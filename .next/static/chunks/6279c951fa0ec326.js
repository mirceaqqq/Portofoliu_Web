(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"warnOnce",{enumerable:!0,get:function(){return l}});let l=e=>{}},71689,81418,83086,51975,e=>{"use strict";var t=e.i(75254);let a=(0,t.default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>a],71689);let l=(0,t.default)("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["ShieldCheck",()=>l],81418);let s=(0,t.default)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]);e.s(["Sparkles",()=>s],83086);let r=(0,t.default)("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);e.s(["Tag",()=>r],51975)},4090,e=>{"use strict";let t={slug:"htb-machine-slug",title:"Descriptive title",target:"Hack The Box: Machine name",type:"Machine",difficulty:"Easy",os:"Linux",status:"Draft",release:new Date().toISOString().slice(0,10),timeToRoot:"",cover:"/blog/cover.png",gallery:["/blog/screenshot1.png"],skills:["enum","exploit"],tags:["tag1","tag2"],summary:"One-liner of the path to root.",highlights:["Key thing 1","Key thing 2"],sections:[{title:"Recon",summary:"What you saw and why it matters.",commands:[{label:"Scan",snippet:"nmap -sC -sV -oN scans/name.nmap <ip>"}],findings:["service detail"]}],loot:["user flag","root flag"],external:[{label:"HTB link",href:"https://app.hackthebox.com"}]};e.s(["writeupTemplate",0,t,"writeups",0,[]])},73589,e=>{"use strict";var t=e.i(47167),a=e.i(43476),l=e.i(57688),s=e.i(22016),r=e.i(71645),i=e.i(71689),n=e.i(75254);let o=(0,n.default)("badge-check",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),d=(0,n.default)("clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]),c=(0,n.default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),x=(0,n.default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),p=(0,n.default)("file-plus",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]]),h=(0,n.default)("key-round",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);var m=e.i(60508);let u=(0,n.default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);var g=e.i(81418),b=e.i(83086),w=e.i(51975);let y=(0,n.default)("wand-sparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]),f=(0,n.default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var j=e.i(4090);let v="blog-editor-draft",N="blog-editor-auth",k=t.default.env.NEXT_PUBLIC_BLOG_KEY||"",C=t.default.env.NEXT_PUBLIC_BLOG_KEY||"",S=()=>({...j.writeupTemplate,slug:`htb-${Date.now()}`,title:"",summary:"",highlights:[""],tags:[],skills:[],gallery:[],external:[],sections:[{title:"Recon",summary:"",commands:[],findings:[]}]}),L=e=>e&&e.length>0?e.join(", "):"",T=e=>e.split(/,|\n/).map(e=>e.trim()).filter(Boolean),M=e=>e.split("\n").map(e=>e.trim()).filter(Boolean),O=e=>e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)+/g,"");function z(){let[e,t]=(0,r.useState)(!1),[n,z]=(0,r.useState)(!1),[_,E]=(0,r.useState)(""),[R,$]=(0,r.useState)(S()),[I,D]=(0,r.useState)(null),[A,J]=(0,r.useState)("split"),[K,U]=(0,r.useState)(!1),[H,V]=(0,r.useState)(""),[G,W]=(0,r.useState)("idle"),[X,Y]=(0,r.useState)([]),q=!C;(0,r.useEffect)(()=>{e&&localStorage.setItem(v,JSON.stringify(R))},[R,e]);let F=(0,r.useCallback)(async()=>{try{let e=await fetch("/api/writeups"),t=await e.json();t?.data&&Y(t.data)}catch(e){console.error("Nu am putut incarca lista de writeups",e)}},[]);(0,r.useEffect)(()=>{(async()=>{z("ok"===localStorage.getItem(N));let e=localStorage.getItem(v);if(e)try{$(JSON.parse(e))}catch(e){console.error("Cannot parse saved draft",e)}await F(),t(!0)})()},[F]);let Z=(0,r.useCallback)(async()=>{try{await navigator.clipboard.writeText(JSON.stringify(R,null,2)),alert("Copiat in clipboard. Lipeste in app/blog/writeups.ts.")}catch{alert("Nu am putut copia automat.")}},[R]),Q=(0,r.useCallback)(async()=>{let e=`// Adauga in app/blog/writeups.ts
${JSON.stringify(R,null,2)}`;try{await navigator.clipboard.writeText(e),alert("Snippet TypeScript copiat.")}catch{alert("Nu am putut copia snippet-ul.")}},[R]),ee=(0,r.useCallback)(()=>{let e=new Blob([JSON.stringify(R,null,2)],{type:"application/json"}),t=URL.createObjectURL(e),a=document.createElement("a");a.href=t,a.download=`${R.slug||"writeup"}.json`,a.click(),URL.revokeObjectURL(t)},[R]),et=(0,r.useCallback)(async()=>{if(!C){W("error"),alert("Publish dezactivat in productie. Ruleaza local si seteaza NEXT_PUBLIC_BLOG_KEY."),setTimeout(()=>W("idle"),1200);return}W("saving");try{let e=new Date().toISOString(),t={...R,release:R.release||e.slice(0,10),publishedAt:R.publishedAt||e,updatedAt:e},a=await fetch("/api/writeups",{method:"POST",headers:{"Content-Type":"application/json","x-api-key":C},body:JSON.stringify(t,null,2)});if(!a.ok)throw Error(await a.text());await F(),W("ok"),$(t)}catch(e){console.error(e),W("error"),alert("Nu am putut publica. Verifica serverul sau logs.")}finally{setTimeout(()=>W("idle"),1500)}},[R,F]),ea=(0,r.useCallback)(async()=>{if(!R.slug)return alert("Seteaza slug-ul inainte sa stergi.");if(window.confirm(`Stergi ${R.slug}?`))try{await fetch(`/api/writeups/${R.slug}`,{method:"DELETE",headers:{"x-api-key":C}}),await F(),$(S())}catch(e){console.error(e),alert("Nu am putut sterge entry-ul.")}},[R.slug,F]),el=(e,t)=>{$(a=>{let l=[...a.sections];return l[e]=t,{...a,sections:l}})},es=(e,t)=>{$(a=>{let l=[...a.sections],s="up"===t?e-1:e+1;return s<0||s>=l.length?a:([l[e],l[s]]=[l[s],l[e]],{...a,sections:l})})},er=(e,t)=>{$(a=>({...a,[e]:t}))},ei=(0,r.useMemo)(()=>JSON.stringify(R,null,2),[R]),en=`Salvat ${new Date().toLocaleTimeString()}`;return((0,r.useEffect)(()=>{let e=e=>{(e.ctrlKey||e.metaKey)&&"s"===e.key.toLowerCase()&&(e.preventDefault(),ee()),(e.ctrlKey||e.metaKey)&&e.shiftKey&&"c"===e.key.toLowerCase()&&(e.preventDefault(),Z())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[Z,ee]),n)?(0,a.jsxs)("div",{className:"min-h-screen bg-black text-white relative overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute inset-0 opacity-[0.04] bg-[url('https://grainy-gradients.vercel.app/noise.svg')]"}),(0,a.jsx)("div",{className:"absolute inset-0 pointer-events-none bg-[radial-gradient(circle_at_20%_20%,rgba(16,185,129,0.08),transparent_25%),radial-gradient(circle_at_80%_10%,rgba(59,130,246,0.1),transparent_20%)]"}),(0,a.jsxs)("div",{className:"relative max-w-6xl mx-auto px-4 pb-24",children:[(0,a.jsxs)("header",{className:"pt-8 flex items-center justify-between gap-3",children:[(0,a.jsxs)(s.default,{href:"/blog",className:"flex items-center gap-2 text-sm text-gray-400 hover:text-white",children:[(0,a.jsx)(i.ArrowLeft,{className:"w-4 h-4"}),"Blog"]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[(0,a.jsx)(b.Sparkles,{className:"w-4 h-4 text-green-400"}),"Editor HackTheBox"]})]}),(0,a.jsxs)("div",{className:"mt-4 flex flex-wrap items-center gap-3 text-xs text-gray-400",children:[(0,a.jsxs)("span",{className:"px-2 py-1 rounded-full bg-green-500/10 border border-green-500/30 text-green-200 flex items-center gap-1",children:[(0,a.jsx)(o,{className:"w-3 h-3"}),en]}),(0,a.jsx)("span",{className:"px-2 py-1 rounded-full bg-white/5 border border-white/10",children:"Cmd/Ctrl + Shift + C = Copy JSON"}),(0,a.jsx)("span",{className:"px-2 py-1 rounded-full bg-white/5 border border-white/10",children:"Cmd/Ctrl + S = Download JSON"}),(0,a.jsxs)("div",{className:"flex items-center gap-2 ml-auto",children:[(0,a.jsx)("button",{onClick:()=>J("compose"),className:`px-3 py-1 rounded-lg border text-white text-xs ${"compose"===A?"border-white/60 bg-white/10":"border-white/10 bg-black/30"}`,children:"Compose"}),(0,a.jsx)("button",{onClick:()=>J("split"),className:`px-3 py-1 rounded-lg border text-white text-xs ${"split"===A?"border-white/60 bg-white/10":"border-white/10 bg-black/30"}`,children:"Split"}),(0,a.jsx)("button",{onClick:()=>J("preview"),className:`px-3 py-1 rounded-lg border text-white text-xs ${"preview"===A?"border-white/60 bg-white/10":"border-white/10 bg-black/30"}`,children:"Preview"})]})]}),(0,a.jsxs)("section",{className:"mt-6 bg-white/5 border border-white/10 rounded-3xl p-6 md:p-8 shadow-2xl backdrop-blur",children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,a.jsxs)("div",{className:"px-3 py-1 rounded-full bg-green-500/10 border border-green-500/30 text-green-200 text-xs font-mono inline-flex items-center gap-2",children:[(0,a.jsx)(m.NotebookPen,{className:"w-4 h-4"}),"Live editor"]}),(0,a.jsxs)("div",{className:"hidden md:flex items-center gap-2 text-xs text-gray-400",children:[(0,a.jsx)("span",{className:"px-2 py-1 rounded-full bg-white/5 border border-white/10",children:"Paste JSON pentru import rapid"}),(0,a.jsx)("span",{className:"px-2 py-1 rounded-full bg-white/5 border border-white/10",children:"Copy/Download = snippet gata de lipit"})]}),(0,a.jsx)("div",{className:"text-xs text-gray-400",children:"Autosave in localStorage + copy/export instant"})]}),(0,a.jsx)("h1",{className:"mt-4 text-3xl md:text-4xl font-bold",children:"Scrie un write-up nou"}),(0,a.jsxs)("p",{className:"mt-2 text-gray-300 text-sm max-w-2xl",children:["Completeaza campurile, adauga sectiuni si comenzi. Copiaza JSON-ul si lipeste-l in ",(0,a.jsx)("code",{className:"bg-black/40 px-2 py-1 rounded border border-white/10",children:"app/blog/writeups.ts"}),". Pentru imagini, pune fisierele in ",(0,a.jsx)("code",{className:"bg-black/40 px-2 py-1 rounded border border-white/10",children:"/public/blog"})," si seteaza path-ul."]}),(0,a.jsxs)("div",{className:"mt-6 flex flex-wrap gap-2",children:[(0,a.jsxs)("button",{onClick:()=>$({...j.writeupTemplate,slug:`htb-${Date.now()}`}),className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-white/10 border border-white/10 text-sm hover:bg-white/15",children:[(0,a.jsx)(y,{className:"w-4 h-4"}),"Template fresh"]}),(0,a.jsxs)("button",{onClick:()=>{$(S()),D(null)},className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-white/10 border border-white/10 text-sm hover:bg-white/15",children:[(0,a.jsx)(u,{className:"w-4 h-4"}),"Goleste"]}),(0,a.jsxs)("button",{onClick:Z,className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-green-500/20 border border-green-500/40 text-sm hover:bg-green-500/30",children:[(0,a.jsx)(d,{className:"w-4 h-4"}),"Copy JSON"]}),(0,a.jsxs)("button",{onClick:Q,className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-green-500/20 border border-green-500/40 text-sm hover:bg-green-500/30",children:[(0,a.jsx)(d,{className:"w-4 h-4"}),"Copy TS snippet"]}),(0,a.jsxs)("button",{onClick:ee,className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-blue-500/20 border border-blue-500/40 text-sm hover:bg-blue-500/30",children:[(0,a.jsx)(c,{className:"w-4 h-4"}),"Download"]}),(0,a.jsxs)("button",{onClick:et,className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm border ${q?"bg-white/5 border-white/20 text-gray-400 cursor-not-allowed":"saving"===G?"bg-yellow-500/20 border-yellow-500/40 text-yellow-100":"ok"===G?"bg-green-500/20 border-green-500/40 text-green-100":"error"===G?"bg-red-500/20 border-red-500/40 text-red-100":"bg-white/10 border-white/10"} hover:bg-white/15`,disabled:"saving"===G||q,children:[(0,a.jsx)(d,{className:"w-4 h-4"}),q?"Publish disabled":"saving"===G?"Publishing...":"Publish to backend"]}),(0,a.jsxs)("button",{onClick:ea,className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-red-500/20 border border-red-500/40 text-sm text-red-100 hover:bg-red-500/30",children:[(0,a.jsx)(f,{className:"w-4 h-4"}),"Delete"]}),(0,a.jsxs)("button",{onClick:()=>U(!0),className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-white/10 border border-white/10 text-sm hover:bg-white/15",children:[(0,a.jsx)(d,{className:"w-4 h-4"}),"Paste JSON"]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("select",{onChange:e=>{(e=>{let t=X.find(t=>t.slug===e);if(t)return $(t);let a=j.writeups.find(t=>t.slug===e);a&&$(a)})(e.target.value),e.currentTarget.value=""},defaultValue:"",className:"px-3 py-2 rounded-lg bg-black/40 border border-white/10 text-sm",children:[(0,a.jsx)("option",{value:"",disabled:!0,children:"Incarca din backend/statice"}),X.map(e=>(0,a.jsxs)("option",{value:e.slug,children:["[Backend] ",e.title]},`remote-${e.slug}`)),j.writeups.map(e=>(0,a.jsxs)("option",{value:e.slug,children:["[Static] ",e.title]},`static-${e.slug}`))]}),(0,a.jsx)("button",{onClick:F,className:"px-3 py-2 rounded-lg bg-white/10 border border-white/10 text-sm hover:bg-white/15",children:"Refresh list"})]}),(0,a.jsxs)("button",{onClick:()=>{$(e=>({...e,sections:[{title:"Recon",summary:"Scans, enum si ce indicii ai gasit.",commands:[{label:"nmap",snippet:"nmap -sC -sV -oN scans/box.nmap <ip>"}],findings:["Porturi deschise","Versiuni si vulnerabilitati"]},{title:"Initial access",summary:"Exploit / login / upload.",commands:[{label:"exploit",snippet:"python3 exploit.py <ip>"}],findings:[]},{title:"Privilege escalation",summary:"Lin/Win privesc, sudo, capabilities, services.",commands:[{label:"linux smart enum",snippet:"linpeas.sh"}],findings:[]},{title:"Post-exploitation",summary:"Loot, flags, persistenta, cleanup.",commands:[],loot:[],findings:[]}]}))},className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-white/10 border border-white/10 text-sm hover:bg-white/15",children:[(0,a.jsx)(y,{className:"w-4 h-4"}),"Sectiuni standard"]})]})]}),(0,a.jsxs)("div",{className:`mt-8 grid gap-6 ${"split"===A?"lg:grid-cols-2":"grid-cols-1"}`,children:["preview"!==A&&(0,a.jsxs)("section",{className:"p-6 rounded-3xl border border-white/10 bg-white/5 space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm font-semibold text-white",children:[(0,a.jsx)(p,{className:"w-4 h-4"}),"Date generale"]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-3",children:[(0,a.jsxs)("label",{className:"text-sm text-gray-400",children:["Slug",(0,a.jsx)("input",{value:R.slug,onChange:e=>er("slug",e.target.value),className:"w-full mt-1 px-3 py-2 rounded-lg bg-black/40 border border-white/10 outline-none"})]}),(0,a.jsxs)("label",{className:"text-sm text-gray-400",children:["Titlu",(0,a.jsx)("input",{value:R.title,onChange:e=>{let t=e.target.value;$(e=>{let a={...e,title:t};return(!e.slug||e.slug.startsWith("htb-")||e.slug===O(e.title))&&(a.slug=O(t)||e.slug||`htb-${Date.now()}`),a})},className:"w-full mt-1 px-3 py-2 rounded-lg bg-black/40 border border-white/10 outline-none"})]}),(0,a.jsxs)("label",{className:"text-sm text-gray-400",children:["Target",(0,a.jsx)("input",{value:R.target,onChange:e=>er("target",e.target.value),className:"w-full mt-1 px-3 py-2 rounded-lg bg-black/40 border border-white/10 outline-none"})]}),(0,a.jsxs)("label",{className:"text-sm text-gray-400",children:["Tip",(0,a.jsxs)("select",{value:R.type,onChange:e=>er("type",e.target.value),className:"w-full mt-1 px-3 py-2 rounded-lg bg-black/40 border border-white/10 outline-none",children:[(0,a.jsx)("option",{children:"Machine"}),(0,a.jsx)("option",{children:"Challenge"})]})]}),(0,a.jsxs)("label",{className:"text-sm text-gray-400",children:["Dificultate",(0,a.jsx)("select",{value:R.difficulty,onChange:e=>er("difficulty",e.target.value),className:"w-full mt-1 px-3 py-2 rounded-lg bg-black/40 border border-white/10 outline-none",children:["Easy","Medium","Hard","Insane"].map(e=>(0,a.jsx)("option",{children:e},e))})]}),(0,a.jsxs)("label",{className:"text-sm text-gray-400",children:["OS (optional)",(0,a.jsx)("input",{value:R.os??"",onChange:e=>er("os",e.target.value),className:"w-full mt-1 px-3 py-2 rounded-lg bg-black/40 border border-white/10 outline-none"})]}),(0,a.jsxs)("label",{className:"text-sm text-gray-400",children:["Status",(0,a.jsxs)("select",{value:R.status,onChange:e=>er("status",e.target.value),className:"w-full mt-1 px-3 py-2 rounded-lg bg-black/40 border border-white/10 outline-none",children:[(0,a.jsx)("option",{children:"Rooted"}),(0,a.jsx)("option",{children:"In progress"}),(0,a.jsx)("option",{children:"Draft"})]})]}),(0,a.jsxs)("label",{className:"text-sm text-gray-400",children:["Data (release)",(0,a.jsx)("input",{type:"date",value:R.release??"",onChange:e=>er("release",e.target.value),className:"w-full mt-1 px-3 py-2 rounded-lg bg-black/40 border border-white/10 outline-none"})]}),(0,a.jsxs)("label",{className:"text-sm text-gray-400",children:["Time to root",(0,a.jsx)("input",{value:R.timeToRoot??"",onChange:e=>er("timeToRoot",e.target.value),className:"w-full mt-1 px-3 py-2 rounded-lg bg-black/40 border border-white/10 outline-none"})]}),(0,a.jsxs)("label",{className:"text-sm text-gray-400",children:["Cover path (ex: /blog/cover.png)",(0,a.jsx)("input",{value:R.cover??"",onChange:e=>er("cover",e.target.value),className:"w-full mt-1 px-3 py-2 rounded-lg bg-black/40 border border-white/10 outline-none"})]}),(0,a.jsxs)("label",{className:"text-sm text-gray-400",children:["Cover preview (local file)",(0,a.jsx)("input",{type:"file",accept:"image/*",className:"mt-1 text-sm",onChange:e=>{let t=e.target.files?.[0];t&&(D(URL.createObjectURL(t)),er("cover",`/blog/${t.name}`))}}),I&&(0,a.jsx)("div",{className:"mt-2 relative w-full h-24 rounded-lg overflow-hidden border border-white/10",children:(0,a.jsx)(l.default,{src:I,alt:"preview",fill:!0,className:"object-cover",sizes:"200px"})})]}),(0,a.jsxs)("label",{className:"text-sm text-gray-400 md:col-span-2",children:["Galerie (separate prin virgula)",(0,a.jsx)("input",{value:L(R.gallery),onChange:e=>er("gallery",T(e.target.value)),placeholder:"/blog/s1.png, /blog/s2.png",className:"w-full mt-1 px-3 py-2 rounded-lg bg-black/40 border border-white/10 outline-none"})]})]}),(0,a.jsxs)("label",{className:"text-sm text-gray-400 block",children:["Summary",(0,a.jsx)("textarea",{value:R.summary,onChange:e=>er("summary",e.target.value),className:"w-full mt-1 px-3 py-2 rounded-lg bg-black/40 border border-white/10 outline-none min-h-[90px]"})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-3",children:[(0,a.jsxs)("label",{className:"text-sm text-gray-400",children:["Tags (virgula)",(0,a.jsx)("input",{value:L(R.tags),onChange:e=>er("tags",T(e.target.value)),className:"w-full mt-1 px-3 py-2 rounded-lg bg-black/40 border border-white/10 outline-none"})]}),(0,a.jsxs)("label",{className:"text-sm text-gray-400",children:["Skills (virgula)",(0,a.jsx)("input",{value:L(R.skills),onChange:e=>er("skills",T(e.target.value)),className:"w-full mt-1 px-3 py-2 rounded-lg bg-black/40 border border-white/10 outline-none"})]}),(0,a.jsxs)("label",{className:"text-sm text-gray-400",children:["Highlights (cate o linie)",(0,a.jsx)("textarea",{value:(R.highlights||[]).join("\n"),onChange:e=>er("highlights",M(e.target.value)),className:"w-full mt-1 px-3 py-2 rounded-lg bg-black/40 border border-white/10 outline-none min-h-[80px]"})]}),(0,a.jsxs)("label",{className:"text-sm text-gray-400",children:["Loot global (optional, cate o linie)",(0,a.jsx)("textarea",{value:(R.loot||[]).join("\n"),onChange:e=>er("loot",M(e.target.value)),className:"w-full mt-1 px-3 py-2 rounded-lg bg-black/40 border border-white/10 outline-none min-h-[80px]"})]})]}),(0,a.jsxs)("label",{className:"text-sm text-gray-400 block",children:["Link-uri externe (label | url pe fiecare linie)",(0,a.jsx)("textarea",{value:(R.external||[]).map(e=>`${e.label} | ${e.href}`).join("\n"),onChange:e=>er("external",e.target.value.split("\n").map(e=>e.trim()).filter(Boolean).map(e=>{let[t,a]=e.split("|").map(e=>e.trim());return{label:t,href:a}})),className:"w-full mt-1 px-3 py-2 rounded-lg bg-black/40 border border-white/10 outline-none min-h-[80px]"})]}),(0,a.jsxs)("label",{className:"text-sm text-gray-400 block",children:["Notite generale",(0,a.jsx)("textarea",{value:R.notes??"",onChange:e=>er("notes",e.target.value),className:"w-full mt-1 px-3 py-2 rounded-lg bg-black/40 border border-white/10 outline-none min-h-[80px]"})]})]}),"compose"!==A&&(0,a.jsxs)("section",{className:"p-6 rounded-3xl border border-white/10 bg-black/40 space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm font-semibold text-white",children:[(0,a.jsx)(x,{className:"w-4 h-4"}),"Preview rapid"]}),(0,a.jsxs)("div",{className:"p-4 rounded-2xl bg-white/5 border border-white/10",children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-2 text-xs mb-2",children:[(0,a.jsx)("span",{className:"px-2 py-1 rounded-full bg-green-500/10 text-green-200 border border-green-500/20",children:R.difficulty}),(0,a.jsx)("span",{className:"px-2 py-1 rounded-full bg-white/10 border border-white/10",children:R.type}),R.os&&(0,a.jsx)("span",{className:"px-2 py-1 rounded-full bg-blue-500/10 border border-blue-500/20 text-blue-100",children:R.os}),(0,a.jsx)("span",{className:"px-2 py-1 rounded-full bg-white/10 border border-white/10",children:R.status}),R.timeToRoot&&(0,a.jsxs)("span",{className:"px-2 py-1 rounded-full bg-black/40 border border-white/10 flex items-center gap-1",children:[(0,a.jsx)(w.Tag,{className:"w-3 h-3"}),R.timeToRoot]})]}),(0,a.jsx)("h3",{className:"text-xl font-bold",children:R.title||"Titlu write-up"}),(0,a.jsx)("p",{className:"text-sm text-green-300 font-mono",children:R.target||"Hack The Box"}),(0,a.jsx)("p",{className:"mt-2 text-gray-300 text-sm leading-relaxed",children:R.summary||"Rezumatul va aparea aici."}),R.cover&&(0,a.jsx)("div",{className:"mt-3 relative w-full h-32 rounded-xl overflow-hidden border border-white/10",children:(0,a.jsx)(l.default,{src:I||R.cover,alt:"cover",fill:!0,className:"object-cover",sizes:"400px"})}),(0,a.jsx)("div",{className:"mt-3 flex flex-wrap gap-2 text-xs",children:(R.tags||[]).map(e=>(0,a.jsx)("span",{className:"px-2 py-1 rounded-full bg-white/10 border border-white/10",children:e},e))}),(0,a.jsx)("div",{className:"mt-4 space-y-2 text-sm text-gray-200",children:(R.highlights||[]).filter(Boolean).map(e=>(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)(g.ShieldCheck,{className:"w-4 h-4 text-green-300 mt-0.5"}),(0,a.jsx)("span",{children:e})]},e))}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("div",{className:"text-xs text-gray-400 mb-1",children:"Sectiuni"}),(0,a.jsx)("div",{className:"grid gap-2 text-sm text-gray-200",children:R.sections.map(e=>(0,a.jsxs)("div",{className:"p-2 rounded-lg bg-black/30 border border-white/10",children:[(0,a.jsx)("div",{className:"font-semibold",children:e.title}),(0,a.jsx)("div",{className:"text-gray-400 text-xs",children:e.summary})]},e.title))})]})]}),(0,a.jsxs)("div",{className:"p-4 rounded-2xl bg-black/60 border border-white/10 max-h-[420px] overflow-auto space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[(0,a.jsx)(B,{}),"JSON ready-to-paste"]}),(0,a.jsx)("pre",{className:"text-xs text-gray-200 whitespace-pre-wrap leading-relaxed",children:ei}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[(0,a.jsx)(B,{}),"TypeScript snippet"]}),(0,a.jsx)("pre",{className:"text-xs text-gray-200 whitespace-pre-wrap leading-relaxed",children:`// Adauga in writeups.ts
${ei}`})]})]})]}),(0,a.jsxs)("section",{className:"mt-8 p-6 rounded-3xl border border-white/10 bg-white/5 space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm font-semibold text-white",children:[(0,a.jsx)(b.Sparkles,{className:"w-4 h-4 text-green-300"}),"Sectiuni & comenzi"]}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:"Adauga pasii, comenzile si notitele pentru fiecare etapa. Foloseste sagetile pentru a reordona."}),(0,a.jsx)("div",{className:"space-y-4",children:R.sections.map((e,t)=>(0,a.jsxs)("div",{className:"p-4 rounded-2xl bg-black/40 border border-white/10 space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("span",{className:"px-2 py-1 text-[11px] rounded-full bg-white/10 border border-white/10",children:["#",t+1]}),(0,a.jsx)("input",{value:e.title,onChange:a=>el(t,{...e,title:a.target.value}),className:"px-3 py-2 rounded-lg bg-black/40 border border-white/10 outline-none text-sm",placeholder:"Titlu sectiune"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>es(t,"up"),className:"p-2 rounded-lg bg-white/10 border border-white/10 hover:bg-white/20",disabled:0===t,children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"w-4 h-4",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 15l7-7 7 7"})})}),(0,a.jsx)("button",{onClick:()=>es(t,"down"),className:"p-2 rounded-lg bg-white/10 border border-white/10 hover:bg-white/20",disabled:t===R.sections.length-1,children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"w-4 h-4",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})}),(0,a.jsx)("button",{onClick:()=>{$(e=>({...e,sections:e.sections.filter((e,a)=>a!==t)}))},className:"p-2 rounded-lg bg-red-500/10 border border-red-500/30 hover:bg-red-500/20",children:(0,a.jsx)(f,{className:"w-4 h-4"})})]})]}),(0,a.jsx)("textarea",{value:e.summary,onChange:a=>el(t,{...e,summary:a.target.value}),className:"w-full px-3 py-2 rounded-lg bg-black/30 border border-white/10 outline-none text-sm",placeholder:"Rezumat scurt"}),(0,a.jsxs)("label",{className:"text-xs text-gray-400",children:["Findings (cate o linie)",(0,a.jsx)("textarea",{value:(e.findings||[]).join("\n"),onChange:a=>el(t,{...e,findings:M(a.target.value)}),className:"w-full mt-1 px-3 py-2 rounded-lg bg-black/30 border border-white/10 outline-none text-sm"})]}),(0,a.jsxs)("label",{className:"text-xs text-gray-400",children:["Loot (optional)",(0,a.jsx)("textarea",{value:(e.loot||[]).join("\n"),onChange:a=>el(t,{...e,loot:M(a.target.value)}),className:"w-full mt-1 px-3 py-2 rounded-lg bg-black/30 border border-white/10 outline-none text-sm"})]}),(0,a.jsxs)("label",{className:"text-xs text-gray-400",children:["Takeaways (lessons)",(0,a.jsx)("textarea",{value:(e.takeaways||[]).join("\n"),onChange:a=>el(t,{...e,takeaways:M(a.target.value)}),className:"w-full mt-1 px-3 py-2 rounded-lg bg-black/30 border border-white/10 outline-none text-sm"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-400",children:[(0,a.jsx)("span",{children:"Commands"}),(0,a.jsxs)("button",{onClick:()=>{let e,a;(a=(e=R.sections[t]).commands?[...e.commands]:[]).push({label:"",snippet:""}),el(t,{...e,commands:a})},className:"inline-flex items-center gap-1 px-2 py-1 rounded bg-white/10 border border-white/10 text-white",children:[(0,a.jsx)(P,{}),"Add command"]})]}),(e.commands||[]).map((l,s)=>(0,a.jsxs)("div",{className:"p-3 rounded-xl bg-black/50 border border-white/10 space-y-2",children:[(0,a.jsx)("input",{value:l.label??"",onChange:a=>{let r=[...e.commands||[]];r[s]={...l,label:a.target.value},el(t,{...e,commands:r})},placeholder:"Label (ex: nmap)",className:"w-full px-3 py-2 rounded-lg bg-black/40 border border-white/10 outline-none text-sm"}),(0,a.jsx)("textarea",{value:l.snippet,onChange:a=>{let r=[...e.commands||[]];r[s]={...l,snippet:a.target.value},el(t,{...e,commands:r})},placeholder:"Comanda / payload",className:"w-full px-3 py-2 rounded-lg bg-black/40 border border-white/10 outline-none text-sm"})]},s)),0===(e.commands||[]).length&&(0,a.jsx)("div",{className:"text-xs text-gray-500 px-2",children:"Nu ai comenzi aici inca."})]})]},t))}),(0,a.jsxs)("button",{onClick:()=>{$(e=>({...e,sections:[...e.sections,{title:`Sectiune ${e.sections.length+1}`,summary:"",commands:[],findings:[],loot:[],takeaways:[]}]}))},className:"mt-2 inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-green-500/20 border border-green-500/40 text-green-100 text-sm hover:bg-green-500/30",children:[(0,a.jsx)(P,{}),"Adauga sectiune"]})]})]}),K&&(0,a.jsx)("div",{className:"fixed inset-0 z-50 bg-black/70 backdrop-blur-sm flex items-center justify-center px-4",onClick:()=>U(!1),children:(0,a.jsxs)("div",{className:"w-full max-w-2xl bg-[#0f0f0f] border border-white/10 rounded-2xl p-6 relative",onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-300",children:[(0,a.jsx)(d,{className:"w-4 h-4"}),"Importa JSON"]}),(0,a.jsx)("button",{onClick:()=>U(!1),className:"p-2 rounded-lg bg-white/10 border border-white/10 hover:bg-white/20",children:(0,a.jsx)(f,{className:"w-4 h-4"})})]}),(0,a.jsx)("textarea",{value:H,onChange:e=>V(e.target.value),placeholder:"Paste JSON-ul aici...",className:"w-full h-64 px-3 py-2 rounded-lg bg-black/50 border border-white/10 outline-none text-sm text-white"}),(0,a.jsxs)("div",{className:"mt-3 flex gap-2 justify-end",children:[(0,a.jsx)("button",{onClick:()=>U(!1),className:"px-3 py-2 rounded-lg bg-white/10 border border-white/10 text-sm",children:"Renunta"}),(0,a.jsx)("button",{onClick:()=>{try{let e=JSON.parse(H);$(e),U(!1),V("")}catch{alert("Nu am putut parsa JSON-ul. Verifica formatul.")}},className:"px-3 py-2 rounded-lg bg-green-500/20 border border-green-500/40 text-sm text-green-100 hover:bg-green-500/30",children:"Importa"})]})]})})]}):e?(0,a.jsx)("div",{className:"min-h-screen bg-black text-white flex items-center justify-center px-4",children:(0,a.jsxs)("div",{className:"max-w-lg w-full bg-white/5 border border-white/10 rounded-3xl p-8 shadow-2xl",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-400 mb-3",children:[(0,a.jsx)(h,{className:"w-4 h-4"}),"Login editor"]}),(0,a.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Admin Blog"}),(0,a.jsxs)("p",{className:"text-gray-400 text-sm mb-4",children:["Seteaza parola in ",(0,a.jsx)("code",{className:"bg-black/40 px-2 py-1 rounded border border-white/10",children:"NEXT_PUBLIC_BLOG_KEY"})," (fallback: ",(0,a.jsx)("span",{className:"text-white",children:"htb-admin"}),")."]}),(0,a.jsx)("input",{type:"password",value:_,onChange:e=>E(e.target.value),placeholder:"Parola",className:"w-full px-3 py-3 rounded-lg bg-black/50 border border-white/10 outline-none focus:border-green-500"}),(0,a.jsxs)("button",{onClick:()=>{k?_===k?(z(!0),localStorage.setItem(N,"ok")):alert("Parola gresita. Verifica NEXT_PUBLIC_BLOG_KEY sau incearca 'htb-admin'."):alert("Editor indisponibil in productie. Ruleaza local si seteaza NEXT_PUBLIC_BLOG_KEY.")},className:"mt-4 w-full flex items-center justify-center gap-2 px-4 py-3 rounded-lg bg-green-500/80 text-black font-semibold hover:bg-green-400",children:[(0,a.jsx)(o,{className:"w-4 h-4"}),"Intra in editor"]}),(0,a.jsxs)(s.default,{href:"/blog",className:"mt-4 inline-flex items-center gap-2 text-sm text-gray-400 hover:text-white",children:[(0,a.jsx)(i.ArrowLeft,{className:"w-4 h-4"}),"Inapoi la blog"]})]})}):(0,a.jsx)("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:(0,a.jsx)("div",{className:"text-sm text-gray-400",children:"Se incarca editorul..."})})}function B(){return(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"w-4 h-4",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 18l6-6-6-6M8 6L2 12l6 6"})})}function P(){return(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"w-4 h-4",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 5v14m-7-7h14"})})}e.s(["default",()=>z],73589)}]);