module.exports=[44157,a=>{"use strict";var b=a.i(87924),c=a.i(71987),d=a.i(38246),e=a.i(72131),f=a.i(210),g=a.i(70106);let h=(0,g.default)("badge-check",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),i=(0,g.default)("clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]),j=(0,g.default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),k=(0,g.default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),l=(0,g.default)("file-plus",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]]),m=(0,g.default)("key-round",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);var n=a.i(56972);let o=(0,g.default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);var p=a.i(4416),q=a.i(8406),r=a.i(33350);let s=(0,g.default)("wand-sparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]),t=(0,g.default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var u=a.i(35498);let v=process.env.NEXT_PUBLIC_BLOG_KEY||"",w=process.env.NEXT_PUBLIC_BLOG_KEY||"",x=()=>({...u.writeupTemplate,slug:`htb-${Date.now()}`,title:"",summary:"",highlights:[""],tags:[],skills:[],gallery:[],external:[],sections:[{title:"Recon",summary:"",commands:[],findings:[]}]}),y=a=>a&&a.length>0?a.join(", "):"",z=a=>a.split(/,|\n/).map(a=>a.trim()).filter(Boolean),A=a=>a.split("\n").map(a=>a.trim()).filter(Boolean),B=a=>a.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)+/g,"");function C(){let[a,g]=(0,e.useState)(!1),[C,F]=(0,e.useState)(!1),[G,H]=(0,e.useState)(""),[I,J]=(0,e.useState)(x()),[K,L]=(0,e.useState)(null),[M,N]=(0,e.useState)("split"),[O,P]=(0,e.useState)(!1),[Q,R]=(0,e.useState)(""),[S,T]=(0,e.useState)("idle"),[U,V]=(0,e.useState)([]),W=!w;(0,e.useEffect)(()=>{},[I,a]);let X=(0,e.useCallback)(async()=>{try{let a=await fetch("/api/writeups"),b=await a.json();b?.data&&V(b.data)}catch(a){console.error("Nu am putut incarca lista de writeups",a)}},[]);(0,e.useEffect)(()=>{},[X]);let Y=(0,e.useCallback)(async()=>{try{await navigator.clipboard.writeText(JSON.stringify(I,null,2)),alert("Copiat in clipboard. Lipeste in app/blog/writeups.ts.")}catch{alert("Nu am putut copia automat.")}},[I]),Z=(0,e.useCallback)(async()=>{let a=`// Adauga in app/blog/writeups.ts
${JSON.stringify(I,null,2)}`;try{await navigator.clipboard.writeText(a),alert("Snippet TypeScript copiat.")}catch{alert("Nu am putut copia snippet-ul.")}},[I]),$=(0,e.useCallback)(()=>{let a=new Blob([JSON.stringify(I,null,2)],{type:"application/json"}),b=URL.createObjectURL(a),c=document.createElement("a");c.href=b,c.download=`${I.slug||"writeup"}.json`,c.click(),URL.revokeObjectURL(b)},[I]),_=(0,e.useCallback)(async()=>{if(!w){T("error"),alert("Publish dezactivat in productie. Ruleaza local si seteaza NEXT_PUBLIC_BLOG_KEY."),setTimeout(()=>T("idle"),1200);return}T("saving");try{let a=new Date().toISOString(),b={...I,release:I.release||a.slice(0,10),publishedAt:I.publishedAt||a,updatedAt:a},c=await fetch("/api/writeups",{method:"POST",headers:{"Content-Type":"application/json","x-api-key":w},body:JSON.stringify(b,null,2)});if(!c.ok)throw Error(await c.text());await X(),T("ok"),J(b)}catch(a){console.error(a),T("error"),alert("Nu am putut publica. Verifica serverul sau logs.")}finally{setTimeout(()=>T("idle"),1500)}},[I,X]),aa=(0,e.useCallback)(async()=>{if(!I.slug)return alert("Seteaza slug-ul inainte sa stergi.");if(window.confirm(`Stergi ${I.slug}?`))try{await fetch(`/api/writeups/${I.slug}`,{method:"DELETE",headers:{"x-api-key":w}}),await X(),J(x())}catch(a){console.error(a),alert("Nu am putut sterge entry-ul.")}},[I.slug,X]),ab=(a,b)=>{J(c=>{let d=[...c.sections];return d[a]=b,{...c,sections:d}})},ac=(a,b)=>{J(c=>{let d=[...c.sections],e="up"===b?a-1:a+1;return e<0||e>=d.length?c:([d[a],d[e]]=[d[e],d[a]],{...c,sections:d})})},ad=(a,b)=>{J(c=>({...c,[a]:b}))},ae=(0,e.useMemo)(()=>JSON.stringify(I,null,2),[I]),af=`Salvat ${new Date().toLocaleTimeString()}`;return((0,e.useEffect)(()=>{let a=a=>{(a.ctrlKey||a.metaKey)&&"s"===a.key.toLowerCase()&&(a.preventDefault(),$()),(a.ctrlKey||a.metaKey)&&a.shiftKey&&"c"===a.key.toLowerCase()&&(a.preventDefault(),Y())};return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[Y,$]),C)?(0,b.jsxs)("div",{className:"min-h-screen bg-black text-white relative overflow-hidden",children:[(0,b.jsx)("div",{className:"absolute inset-0 opacity-[0.04] bg-[url('https://grainy-gradients.vercel.app/noise.svg')]"}),(0,b.jsx)("div",{className:"absolute inset-0 pointer-events-none bg-[radial-gradient(circle_at_20%_20%,rgba(16,185,129,0.08),transparent_25%),radial-gradient(circle_at_80%_10%,rgba(59,130,246,0.1),transparent_20%)]"}),(0,b.jsxs)("div",{className:"relative max-w-6xl mx-auto px-4 pb-24",children:[(0,b.jsxs)("header",{className:"pt-8 flex items-center justify-between gap-3",children:[(0,b.jsxs)(d.default,{href:"/blog",className:"flex items-center gap-2 text-sm text-gray-400 hover:text-white",children:[(0,b.jsx)(f.ArrowLeft,{className:"w-4 h-4"}),"Blog"]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[(0,b.jsx)(q.Sparkles,{className:"w-4 h-4 text-green-400"}),"Editor HackTheBox"]})]}),(0,b.jsxs)("div",{className:"mt-4 flex flex-wrap items-center gap-3 text-xs text-gray-400",children:[(0,b.jsxs)("span",{className:"px-2 py-1 rounded-full bg-green-500/10 border border-green-500/30 text-green-200 flex items-center gap-1",children:[(0,b.jsx)(h,{className:"w-3 h-3"}),af]}),(0,b.jsx)("span",{className:"px-2 py-1 rounded-full bg-white/5 border border-white/10",children:"Cmd/Ctrl + Shift + C = Copy JSON"}),(0,b.jsx)("span",{className:"px-2 py-1 rounded-full bg-white/5 border border-white/10",children:"Cmd/Ctrl + S = Download JSON"}),(0,b.jsxs)("div",{className:"flex items-center gap-2 ml-auto",children:[(0,b.jsx)("button",{onClick:()=>N("compose"),className:`px-3 py-1 rounded-lg border text-white text-xs ${"compose"===M?"border-white/60 bg-white/10":"border-white/10 bg-black/30"}`,children:"Compose"}),(0,b.jsx)("button",{onClick:()=>N("split"),className:`px-3 py-1 rounded-lg border text-white text-xs ${"split"===M?"border-white/60 bg-white/10":"border-white/10 bg-black/30"}`,children:"Split"}),(0,b.jsx)("button",{onClick:()=>N("preview"),className:`px-3 py-1 rounded-lg border text-white text-xs ${"preview"===M?"border-white/60 bg-white/10":"border-white/10 bg-black/30"}`,children:"Preview"})]})]}),(0,b.jsxs)("section",{className:"mt-6 bg-white/5 border border-white/10 rounded-3xl p-6 md:p-8 shadow-2xl backdrop-blur",children:[(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,b.jsxs)("div",{className:"px-3 py-1 rounded-full bg-green-500/10 border border-green-500/30 text-green-200 text-xs font-mono inline-flex items-center gap-2",children:[(0,b.jsx)(n.NotebookPen,{className:"w-4 h-4"}),"Live editor"]}),(0,b.jsxs)("div",{className:"hidden md:flex items-center gap-2 text-xs text-gray-400",children:[(0,b.jsx)("span",{className:"px-2 py-1 rounded-full bg-white/5 border border-white/10",children:"Paste JSON pentru import rapid"}),(0,b.jsx)("span",{className:"px-2 py-1 rounded-full bg-white/5 border border-white/10",children:"Copy/Download = snippet gata de lipit"})]}),(0,b.jsx)("div",{className:"text-xs text-gray-400",children:"Autosave in localStorage + copy/export instant"})]}),(0,b.jsx)("h1",{className:"mt-4 text-3xl md:text-4xl font-bold",children:"Scrie un write-up nou"}),(0,b.jsxs)("p",{className:"mt-2 text-gray-300 text-sm max-w-2xl",children:["Completeaza campurile, adauga sectiuni si comenzi. Copiaza JSON-ul si lipeste-l in ",(0,b.jsx)("code",{className:"bg-black/40 px-2 py-1 rounded border border-white/10",children:"app/blog/writeups.ts"}),". Pentru imagini, pune fisierele in ",(0,b.jsx)("code",{className:"bg-black/40 px-2 py-1 rounded border border-white/10",children:"/public/blog"})," si seteaza path-ul."]}),(0,b.jsxs)("div",{className:"mt-6 flex flex-wrap gap-2",children:[(0,b.jsxs)("button",{onClick:()=>J({...u.writeupTemplate,slug:`htb-${Date.now()}`}),className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-white/10 border border-white/10 text-sm hover:bg-white/15",children:[(0,b.jsx)(s,{className:"w-4 h-4"}),"Template fresh"]}),(0,b.jsxs)("button",{onClick:()=>{J(x()),L(null)},className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-white/10 border border-white/10 text-sm hover:bg-white/15",children:[(0,b.jsx)(o,{className:"w-4 h-4"}),"Goleste"]}),(0,b.jsxs)("button",{onClick:Y,className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-green-500/20 border border-green-500/40 text-sm hover:bg-green-500/30",children:[(0,b.jsx)(i,{className:"w-4 h-4"}),"Copy JSON"]}),(0,b.jsxs)("button",{onClick:Z,className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-green-500/20 border border-green-500/40 text-sm hover:bg-green-500/30",children:[(0,b.jsx)(i,{className:"w-4 h-4"}),"Copy TS snippet"]}),(0,b.jsxs)("button",{onClick:$,className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-blue-500/20 border border-blue-500/40 text-sm hover:bg-blue-500/30",children:[(0,b.jsx)(j,{className:"w-4 h-4"}),"Download"]}),(0,b.jsxs)("button",{onClick:_,className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm border ${W?"bg-white/5 border-white/20 text-gray-400 cursor-not-allowed":"saving"===S?"bg-yellow-500/20 border-yellow-500/40 text-yellow-100":"ok"===S?"bg-green-500/20 border-green-500/40 text-green-100":"error"===S?"bg-red-500/20 border-red-500/40 text-red-100":"bg-white/10 border-white/10"} hover:bg-white/15`,disabled:"saving"===S||W,children:[(0,b.jsx)(i,{className:"w-4 h-4"}),W?"Publish disabled":"saving"===S?"Publishing...":"Publish to backend"]}),(0,b.jsxs)("button",{onClick:aa,className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-red-500/20 border border-red-500/40 text-sm text-red-100 hover:bg-red-500/30",children:[(0,b.jsx)(t,{className:"w-4 h-4"}),"Delete"]}),(0,b.jsxs)("button",{onClick:()=>P(!0),className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-white/10 border border-white/10 text-sm hover:bg-white/15",children:[(0,b.jsx)(i,{className:"w-4 h-4"}),"Paste JSON"]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)("select",{onChange:a=>{(a=>{let b=U.find(b=>b.slug===a);if(b)return J(b);let c=u.writeups.find(b=>b.slug===a);c&&J(c)})(a.target.value),a.currentTarget.value=""},defaultValue:"",className:"px-3 py-2 rounded-lg bg-black/40 border border-white/10 text-sm",children:[(0,b.jsx)("option",{value:"",disabled:!0,children:"Incarca din backend/statice"}),U.map(a=>(0,b.jsxs)("option",{value:a.slug,children:["[Backend] ",a.title]},`remote-${a.slug}`)),u.writeups.map(a=>(0,b.jsxs)("option",{value:a.slug,children:["[Static] ",a.title]},`static-${a.slug}`))]}),(0,b.jsx)("button",{onClick:X,className:"px-3 py-2 rounded-lg bg-white/10 border border-white/10 text-sm hover:bg-white/15",children:"Refresh list"})]}),(0,b.jsxs)("button",{onClick:()=>{J(a=>({...a,sections:[{title:"Recon",summary:"Scans, enum si ce indicii ai gasit.",commands:[{label:"nmap",snippet:"nmap -sC -sV -oN scans/box.nmap <ip>"}],findings:["Porturi deschise","Versiuni si vulnerabilitati"]},{title:"Initial access",summary:"Exploit / login / upload.",commands:[{label:"exploit",snippet:"python3 exploit.py <ip>"}],findings:[]},{title:"Privilege escalation",summary:"Lin/Win privesc, sudo, capabilities, services.",commands:[{label:"linux smart enum",snippet:"linpeas.sh"}],findings:[]},{title:"Post-exploitation",summary:"Loot, flags, persistenta, cleanup.",commands:[],loot:[],findings:[]}]}))},className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-white/10 border border-white/10 text-sm hover:bg-white/15",children:[(0,b.jsx)(s,{className:"w-4 h-4"}),"Sectiuni standard"]})]})]}),(0,b.jsxs)("div",{className:`mt-8 grid gap-6 ${"split"===M?"lg:grid-cols-2":"grid-cols-1"}`,children:["preview"!==M&&(0,b.jsxs)("section",{className:"p-6 rounded-3xl border border-white/10 bg-white/5 space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm font-semibold text-white",children:[(0,b.jsx)(l,{className:"w-4 h-4"}),"Date generale"]}),(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-3",children:[(0,b.jsxs)("label",{className:"text-sm text-gray-400",children:["Slug",(0,b.jsx)("input",{value:I.slug,onChange:a=>ad("slug",a.target.value),className:"w-full mt-1 px-3 py-2 rounded-lg bg-black/40 border border-white/10 outline-none"})]}),(0,b.jsxs)("label",{className:"text-sm text-gray-400",children:["Titlu",(0,b.jsx)("input",{value:I.title,onChange:a=>{let b=a.target.value;J(a=>{let c={...a,title:b};return(!a.slug||a.slug.startsWith("htb-")||a.slug===B(a.title))&&(c.slug=B(b)||a.slug||`htb-${Date.now()}`),c})},className:"w-full mt-1 px-3 py-2 rounded-lg bg-black/40 border border-white/10 outline-none"})]}),(0,b.jsxs)("label",{className:"text-sm text-gray-400",children:["Target",(0,b.jsx)("input",{value:I.target,onChange:a=>ad("target",a.target.value),className:"w-full mt-1 px-3 py-2 rounded-lg bg-black/40 border border-white/10 outline-none"})]}),(0,b.jsxs)("label",{className:"text-sm text-gray-400",children:["Tip",(0,b.jsxs)("select",{value:I.type,onChange:a=>ad("type",a.target.value),className:"w-full mt-1 px-3 py-2 rounded-lg bg-black/40 border border-white/10 outline-none",children:[(0,b.jsx)("option",{children:"Machine"}),(0,b.jsx)("option",{children:"Challenge"})]})]}),(0,b.jsxs)("label",{className:"text-sm text-gray-400",children:["Dificultate",(0,b.jsx)("select",{value:I.difficulty,onChange:a=>ad("difficulty",a.target.value),className:"w-full mt-1 px-3 py-2 rounded-lg bg-black/40 border border-white/10 outline-none",children:["Easy","Medium","Hard","Insane"].map(a=>(0,b.jsx)("option",{children:a},a))})]}),(0,b.jsxs)("label",{className:"text-sm text-gray-400",children:["OS (optional)",(0,b.jsx)("input",{value:I.os??"",onChange:a=>ad("os",a.target.value),className:"w-full mt-1 px-3 py-2 rounded-lg bg-black/40 border border-white/10 outline-none"})]}),(0,b.jsxs)("label",{className:"text-sm text-gray-400",children:["Status",(0,b.jsxs)("select",{value:I.status,onChange:a=>ad("status",a.target.value),className:"w-full mt-1 px-3 py-2 rounded-lg bg-black/40 border border-white/10 outline-none",children:[(0,b.jsx)("option",{children:"Rooted"}),(0,b.jsx)("option",{children:"In progress"}),(0,b.jsx)("option",{children:"Draft"})]})]}),(0,b.jsxs)("label",{className:"text-sm text-gray-400",children:["Data (release)",(0,b.jsx)("input",{type:"date",value:I.release??"",onChange:a=>ad("release",a.target.value),className:"w-full mt-1 px-3 py-2 rounded-lg bg-black/40 border border-white/10 outline-none"})]}),(0,b.jsxs)("label",{className:"text-sm text-gray-400",children:["Time to root",(0,b.jsx)("input",{value:I.timeToRoot??"",onChange:a=>ad("timeToRoot",a.target.value),className:"w-full mt-1 px-3 py-2 rounded-lg bg-black/40 border border-white/10 outline-none"})]}),(0,b.jsxs)("label",{className:"text-sm text-gray-400",children:["Cover path (ex: /blog/cover.png)",(0,b.jsx)("input",{value:I.cover??"",onChange:a=>ad("cover",a.target.value),className:"w-full mt-1 px-3 py-2 rounded-lg bg-black/40 border border-white/10 outline-none"})]}),(0,b.jsxs)("label",{className:"text-sm text-gray-400",children:["Cover preview (local file)",(0,b.jsx)("input",{type:"file",accept:"image/*",className:"mt-1 text-sm",onChange:a=>{let b=a.target.files?.[0];b&&(L(URL.createObjectURL(b)),ad("cover",`/blog/${b.name}`))}}),K&&(0,b.jsx)("div",{className:"mt-2 relative w-full h-24 rounded-lg overflow-hidden border border-white/10",children:(0,b.jsx)(c.default,{src:K,alt:"preview",fill:!0,className:"object-cover",sizes:"200px"})})]}),(0,b.jsxs)("label",{className:"text-sm text-gray-400 md:col-span-2",children:["Galerie (separate prin virgula)",(0,b.jsx)("input",{value:y(I.gallery),onChange:a=>ad("gallery",z(a.target.value)),placeholder:"/blog/s1.png, /blog/s2.png",className:"w-full mt-1 px-3 py-2 rounded-lg bg-black/40 border border-white/10 outline-none"})]})]}),(0,b.jsxs)("label",{className:"text-sm text-gray-400 block",children:["Summary",(0,b.jsx)("textarea",{value:I.summary,onChange:a=>ad("summary",a.target.value),className:"w-full mt-1 px-3 py-2 rounded-lg bg-black/40 border border-white/10 outline-none min-h-[90px]"})]}),(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-3",children:[(0,b.jsxs)("label",{className:"text-sm text-gray-400",children:["Tags (virgula)",(0,b.jsx)("input",{value:y(I.tags),onChange:a=>ad("tags",z(a.target.value)),className:"w-full mt-1 px-3 py-2 rounded-lg bg-black/40 border border-white/10 outline-none"})]}),(0,b.jsxs)("label",{className:"text-sm text-gray-400",children:["Skills (virgula)",(0,b.jsx)("input",{value:y(I.skills),onChange:a=>ad("skills",z(a.target.value)),className:"w-full mt-1 px-3 py-2 rounded-lg bg-black/40 border border-white/10 outline-none"})]}),(0,b.jsxs)("label",{className:"text-sm text-gray-400",children:["Highlights (cate o linie)",(0,b.jsx)("textarea",{value:(I.highlights||[]).join("\n"),onChange:a=>ad("highlights",A(a.target.value)),className:"w-full mt-1 px-3 py-2 rounded-lg bg-black/40 border border-white/10 outline-none min-h-[80px]"})]}),(0,b.jsxs)("label",{className:"text-sm text-gray-400",children:["Loot global (optional, cate o linie)",(0,b.jsx)("textarea",{value:(I.loot||[]).join("\n"),onChange:a=>ad("loot",A(a.target.value)),className:"w-full mt-1 px-3 py-2 rounded-lg bg-black/40 border border-white/10 outline-none min-h-[80px]"})]})]}),(0,b.jsxs)("label",{className:"text-sm text-gray-400 block",children:["Link-uri externe (label | url pe fiecare linie)",(0,b.jsx)("textarea",{value:(I.external||[]).map(a=>`${a.label} | ${a.href}`).join("\n"),onChange:a=>ad("external",a.target.value.split("\n").map(a=>a.trim()).filter(Boolean).map(a=>{let[b,c]=a.split("|").map(a=>a.trim());return{label:b,href:c}})),className:"w-full mt-1 px-3 py-2 rounded-lg bg-black/40 border border-white/10 outline-none min-h-[80px]"})]}),(0,b.jsxs)("label",{className:"text-sm text-gray-400 block",children:["Notite generale",(0,b.jsx)("textarea",{value:I.notes??"",onChange:a=>ad("notes",a.target.value),className:"w-full mt-1 px-3 py-2 rounded-lg bg-black/40 border border-white/10 outline-none min-h-[80px]"})]})]}),"compose"!==M&&(0,b.jsxs)("section",{className:"p-6 rounded-3xl border border-white/10 bg-black/40 space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm font-semibold text-white",children:[(0,b.jsx)(k,{className:"w-4 h-4"}),"Preview rapid"]}),(0,b.jsxs)("div",{className:"p-4 rounded-2xl bg-white/5 border border-white/10",children:[(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-2 text-xs mb-2",children:[(0,b.jsx)("span",{className:"px-2 py-1 rounded-full bg-green-500/10 text-green-200 border border-green-500/20",children:I.difficulty}),(0,b.jsx)("span",{className:"px-2 py-1 rounded-full bg-white/10 border border-white/10",children:I.type}),I.os&&(0,b.jsx)("span",{className:"px-2 py-1 rounded-full bg-blue-500/10 border border-blue-500/20 text-blue-100",children:I.os}),(0,b.jsx)("span",{className:"px-2 py-1 rounded-full bg-white/10 border border-white/10",children:I.status}),I.timeToRoot&&(0,b.jsxs)("span",{className:"px-2 py-1 rounded-full bg-black/40 border border-white/10 flex items-center gap-1",children:[(0,b.jsx)(r.Tag,{className:"w-3 h-3"}),I.timeToRoot]})]}),(0,b.jsx)("h3",{className:"text-xl font-bold",children:I.title||"Titlu write-up"}),(0,b.jsx)("p",{className:"text-sm text-green-300 font-mono",children:I.target||"Hack The Box"}),(0,b.jsx)("p",{className:"mt-2 text-gray-300 text-sm leading-relaxed",children:I.summary||"Rezumatul va aparea aici."}),I.cover&&(0,b.jsx)("div",{className:"mt-3 relative w-full h-32 rounded-xl overflow-hidden border border-white/10",children:(0,b.jsx)(c.default,{src:K||I.cover,alt:"cover",fill:!0,className:"object-cover",sizes:"400px"})}),(0,b.jsx)("div",{className:"mt-3 flex flex-wrap gap-2 text-xs",children:(I.tags||[]).map(a=>(0,b.jsx)("span",{className:"px-2 py-1 rounded-full bg-white/10 border border-white/10",children:a},a))}),(0,b.jsx)("div",{className:"mt-4 space-y-2 text-sm text-gray-200",children:(I.highlights||[]).filter(Boolean).map(a=>(0,b.jsxs)("div",{className:"flex items-start gap-2",children:[(0,b.jsx)(p.ShieldCheck,{className:"w-4 h-4 text-green-300 mt-0.5"}),(0,b.jsx)("span",{children:a})]},a))}),(0,b.jsxs)("div",{className:"mt-4",children:[(0,b.jsx)("div",{className:"text-xs text-gray-400 mb-1",children:"Sectiuni"}),(0,b.jsx)("div",{className:"grid gap-2 text-sm text-gray-200",children:I.sections.map(a=>(0,b.jsxs)("div",{className:"p-2 rounded-lg bg-black/30 border border-white/10",children:[(0,b.jsx)("div",{className:"font-semibold",children:a.title}),(0,b.jsx)("div",{className:"text-gray-400 text-xs",children:a.summary})]},a.title))})]})]}),(0,b.jsxs)("div",{className:"p-4 rounded-2xl bg-black/60 border border-white/10 max-h-[420px] overflow-auto space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[(0,b.jsx)(D,{}),"JSON ready-to-paste"]}),(0,b.jsx)("pre",{className:"text-xs text-gray-200 whitespace-pre-wrap leading-relaxed",children:ae}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[(0,b.jsx)(D,{}),"TypeScript snippet"]}),(0,b.jsx)("pre",{className:"text-xs text-gray-200 whitespace-pre-wrap leading-relaxed",children:`// Adauga in writeups.ts
${ae}`})]})]})]}),(0,b.jsxs)("section",{className:"mt-8 p-6 rounded-3xl border border-white/10 bg-white/5 space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm font-semibold text-white",children:[(0,b.jsx)(q.Sparkles,{className:"w-4 h-4 text-green-300"}),"Sectiuni & comenzi"]}),(0,b.jsx)("p",{className:"text-gray-400 text-sm",children:"Adauga pasii, comenzile si notitele pentru fiecare etapa. Foloseste sagetile pentru a reordona."}),(0,b.jsx)("div",{className:"space-y-4",children:I.sections.map((a,c)=>(0,b.jsxs)("div",{className:"p-4 rounded-2xl bg-black/40 border border-white/10 space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)("span",{className:"px-2 py-1 text-[11px] rounded-full bg-white/10 border border-white/10",children:["#",c+1]}),(0,b.jsx)("input",{value:a.title,onChange:b=>ab(c,{...a,title:b.target.value}),className:"px-3 py-2 rounded-lg bg-black/40 border border-white/10 outline-none text-sm",placeholder:"Titlu sectiune"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{onClick:()=>ac(c,"up"),className:"p-2 rounded-lg bg-white/10 border border-white/10 hover:bg-white/20",disabled:0===c,children:(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"w-4 h-4",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 15l7-7 7 7"})})}),(0,b.jsx)("button",{onClick:()=>ac(c,"down"),className:"p-2 rounded-lg bg-white/10 border border-white/10 hover:bg-white/20",disabled:c===I.sections.length-1,children:(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"w-4 h-4",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})}),(0,b.jsx)("button",{onClick:()=>{J(a=>({...a,sections:a.sections.filter((a,b)=>b!==c)}))},className:"p-2 rounded-lg bg-red-500/10 border border-red-500/30 hover:bg-red-500/20",children:(0,b.jsx)(t,{className:"w-4 h-4"})})]})]}),(0,b.jsx)("textarea",{value:a.summary,onChange:b=>ab(c,{...a,summary:b.target.value}),className:"w-full px-3 py-2 rounded-lg bg-black/30 border border-white/10 outline-none text-sm",placeholder:"Rezumat scurt"}),(0,b.jsxs)("label",{className:"text-xs text-gray-400",children:["Findings (cate o linie)",(0,b.jsx)("textarea",{value:(a.findings||[]).join("\n"),onChange:b=>ab(c,{...a,findings:A(b.target.value)}),className:"w-full mt-1 px-3 py-2 rounded-lg bg-black/30 border border-white/10 outline-none text-sm"})]}),(0,b.jsxs)("label",{className:"text-xs text-gray-400",children:["Loot (optional)",(0,b.jsx)("textarea",{value:(a.loot||[]).join("\n"),onChange:b=>ab(c,{...a,loot:A(b.target.value)}),className:"w-full mt-1 px-3 py-2 rounded-lg bg-black/30 border border-white/10 outline-none text-sm"})]}),(0,b.jsxs)("label",{className:"text-xs text-gray-400",children:["Takeaways (lessons)",(0,b.jsx)("textarea",{value:(a.takeaways||[]).join("\n"),onChange:b=>ab(c,{...a,takeaways:A(b.target.value)}),className:"w-full mt-1 px-3 py-2 rounded-lg bg-black/30 border border-white/10 outline-none text-sm"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-400",children:[(0,b.jsx)("span",{children:"Commands"}),(0,b.jsxs)("button",{onClick:()=>{let a,b;(b=(a=I.sections[c]).commands?[...a.commands]:[]).push({label:"",snippet:""}),ab(c,{...a,commands:b})},className:"inline-flex items-center gap-1 px-2 py-1 rounded bg-white/10 border border-white/10 text-white",children:[(0,b.jsx)(E,{}),"Add command"]})]}),(a.commands||[]).map((d,e)=>(0,b.jsxs)("div",{className:"p-3 rounded-xl bg-black/50 border border-white/10 space-y-2",children:[(0,b.jsx)("input",{value:d.label??"",onChange:b=>{let f=[...a.commands||[]];f[e]={...d,label:b.target.value},ab(c,{...a,commands:f})},placeholder:"Label (ex: nmap)",className:"w-full px-3 py-2 rounded-lg bg-black/40 border border-white/10 outline-none text-sm"}),(0,b.jsx)("textarea",{value:d.snippet,onChange:b=>{let f=[...a.commands||[]];f[e]={...d,snippet:b.target.value},ab(c,{...a,commands:f})},placeholder:"Comanda / payload",className:"w-full px-3 py-2 rounded-lg bg-black/40 border border-white/10 outline-none text-sm"})]},e)),0===(a.commands||[]).length&&(0,b.jsx)("div",{className:"text-xs text-gray-500 px-2",children:"Nu ai comenzi aici inca."})]})]},c))}),(0,b.jsxs)("button",{onClick:()=>{J(a=>({...a,sections:[...a.sections,{title:`Sectiune ${a.sections.length+1}`,summary:"",commands:[],findings:[],loot:[],takeaways:[]}]}))},className:"mt-2 inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-green-500/20 border border-green-500/40 text-green-100 text-sm hover:bg-green-500/30",children:[(0,b.jsx)(E,{}),"Adauga sectiune"]})]})]}),O&&(0,b.jsx)("div",{className:"fixed inset-0 z-50 bg-black/70 backdrop-blur-sm flex items-center justify-center px-4",onClick:()=>P(!1),children:(0,b.jsxs)("div",{className:"w-full max-w-2xl bg-[#0f0f0f] border border-white/10 rounded-2xl p-6 relative",onClick:a=>a.stopPropagation(),children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-300",children:[(0,b.jsx)(i,{className:"w-4 h-4"}),"Importa JSON"]}),(0,b.jsx)("button",{onClick:()=>P(!1),className:"p-2 rounded-lg bg-white/10 border border-white/10 hover:bg-white/20",children:(0,b.jsx)(t,{className:"w-4 h-4"})})]}),(0,b.jsx)("textarea",{value:Q,onChange:a=>R(a.target.value),placeholder:"Paste JSON-ul aici...",className:"w-full h-64 px-3 py-2 rounded-lg bg-black/50 border border-white/10 outline-none text-sm text-white"}),(0,b.jsxs)("div",{className:"mt-3 flex gap-2 justify-end",children:[(0,b.jsx)("button",{onClick:()=>P(!1),className:"px-3 py-2 rounded-lg bg-white/10 border border-white/10 text-sm",children:"Renunta"}),(0,b.jsx)("button",{onClick:()=>{try{let a=JSON.parse(Q);J(a),P(!1),R("")}catch{alert("Nu am putut parsa JSON-ul. Verifica formatul.")}},className:"px-3 py-2 rounded-lg bg-green-500/20 border border-green-500/40 text-sm text-green-100 hover:bg-green-500/30",children:"Importa"})]})]})})]}):a?(0,b.jsx)("div",{className:"min-h-screen bg-black text-white flex items-center justify-center px-4",children:(0,b.jsxs)("div",{className:"max-w-lg w-full bg-white/5 border border-white/10 rounded-3xl p-8 shadow-2xl",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-400 mb-3",children:[(0,b.jsx)(m,{className:"w-4 h-4"}),"Login editor"]}),(0,b.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Admin Blog"}),(0,b.jsxs)("p",{className:"text-gray-400 text-sm mb-4",children:["Seteaza parola in ",(0,b.jsx)("code",{className:"bg-black/40 px-2 py-1 rounded border border-white/10",children:"NEXT_PUBLIC_BLOG_KEY"})," (fallback: ",(0,b.jsx)("span",{className:"text-white",children:"htb-admin"}),")."]}),(0,b.jsx)("input",{type:"password",value:G,onChange:a=>H(a.target.value),placeholder:"Parola",className:"w-full px-3 py-3 rounded-lg bg-black/50 border border-white/10 outline-none focus:border-green-500"}),(0,b.jsxs)("button",{onClick:()=>{v?G===v?F(!0):alert("Parola gresita. Verifica NEXT_PUBLIC_BLOG_KEY sau incearca 'htb-admin'."):alert("Editor indisponibil in productie. Ruleaza local si seteaza NEXT_PUBLIC_BLOG_KEY.")},className:"mt-4 w-full flex items-center justify-center gap-2 px-4 py-3 rounded-lg bg-green-500/80 text-black font-semibold hover:bg-green-400",children:[(0,b.jsx)(h,{className:"w-4 h-4"}),"Intra in editor"]}),(0,b.jsxs)(d.default,{href:"/blog",className:"mt-4 inline-flex items-center gap-2 text-sm text-gray-400 hover:text-white",children:[(0,b.jsx)(f.ArrowLeft,{className:"w-4 h-4"}),"Inapoi la blog"]})]})}):(0,b.jsx)("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:(0,b.jsx)("div",{className:"text-sm text-gray-400",children:"Se incarca editorul..."})})}function D(){return(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"w-4 h-4",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 18l6-6-6-6M8 6L2 12l6 6"})})}function E(){return(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",className:"w-4 h-4",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 5v14m-7-7h14"})})}a.s(["default",()=>C],44157)}];

//# sourceMappingURL=app_blog_editor_page_tsx_66997051._.js.map